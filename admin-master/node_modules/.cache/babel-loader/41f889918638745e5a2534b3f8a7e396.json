{"remainingRequest":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\src\\views\\CategoryList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\src\\views\\CategoryList.vue","mtime":1549876497000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      categoryList: []\n    };\n  },\n  methods: {\n    deleteCategory: function deleteCategory(c, i) {\n      var _this = this;\n\n      this.$confirm('删除操作不可撤销!您确定吗?', '提示', {\n        type: 'warning'\n      }).then(function () {\n        var url = _this.$store.state.globalSettings.apiUrl + '/admin/category/' + c.cid;\n\n        _this.$axios.delete(url).then(function (res) {\n          if (res.data.code == 200) {\n            //数据库删除成功\n            _this.categoryList.splice(i, 1); //从模型数据中删除\n\n\n            _this.$message.success('菜品类删除成功!');\n          } else {\n            _this.$message.error('类别删除出错了:' + res.data.msg);\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function () {});\n    },\n    updateCategory: function updateCategory(c, i) {\n      console.log(i);\n    },\n    addCategory: function addCategory() {\n      var _this2 = this;\n\n      this.$prompt('请输入新的菜品类别名:', '提示', {\n        type: 'info'\n      }).then(function (_ref) {\n        var value = _ref.value;\n        //获得用户的输入,调用数据API添加到数据库\n        var url = _this2.$store.state.globalSettings.apiUrl + '/admin/category';\n\n        _this2.$axios.post(url, {\n          cname: value\n        }).then(function (res) {\n          if (res.data.code == 200) {\n            //数据库中添加成功\n            _this2.$message.success('新的类别添加成功'); //模型数据中添加新的类别\n\n\n            _this2.categoryList.push({\n              cid: res.data.cid,\n              cname: value\n            });\n          } else {\n            _this2.$message.error('新的类别添加出错: ' + res.data.msg);\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function () {});\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    var url = this.$store.state.globalSettings.apiUrl + '/admin/category';\n    this.$axios.get(url).then(function (res) {\n      _this3.categoryList = res.data;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n};",{"version":3,"sources":["CategoryList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"xfn-category\">\n    <el-breadcrumb>\n      <el-breadcrumb-item to=\"/main\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>菜品类别管理</el-breadcrumb-item>\n      <el-breadcrumb-item>类别列表</el-breadcrumb-item>\n    </el-breadcrumb>\n   <br>\n    <el-button type='primary' @click=\"addCategory\">添加新的菜品类别</el-button>\n  <br>\n    <el-table :data='categoryList'  stripe border>\n         <el-table-column label='编号' prop='cid'> </el-table-column>\n         <el-table-column label='名称' prop='cname'> </el-table-column>\n         <el-table-column label='操作' > \n           <template slot-scope=\"{row,$index}\">\n              <el-button @click='updateCategory(row,$index)' type='success' size='mini'>修改</el-button>\n              <el-button @click=\"deleteCategory(row,$index)\" type='danger' size='mini'>删除</el-button>\n           </template>\n         </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return {\n      categoryList:[]\n    }\n  },\n  methods:{\n    deleteCategory(c,i){\n      this.$confirm('删除操作不可撤销!您确定吗?','提示',{type:'warning'}).then(()=>{\n         var url=this.$store.state.globalSettings.apiUrl + '/admin/category/'+c.cid;\n          this.$axios.delete(url).then((res)=>{\n        if(res.data.code==200){//数据库删除成功\n          this.categoryList.splice(i, 1);  //从模型数据中删除\n          this.$message.success('菜品类删除成功!');\n        }else{\n          this.$message.error('类别删除出错了:'+res.data.msg);\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n      }).catch(()=>{\n\n      })\n    },\n    updateCategory(c,i) {\n      console.log(i);\n    },\n    addCategory(){\n      this.$prompt('请输入新的菜品类别名:','提示',{type:'info'}).then(({value})=>{\n        //获得用户的输入,调用数据API添加到数据库\n        var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n        this.$axios.post(url,{cname:value}).then((res)=>{\n          if(res.data.code==200){\n            //数据库中添加成功\n            this.$message.success('新的类别添加成功')\n            //模型数据中添加新的类别\n            this.categoryList.push({cid:res.data.cid,cname:value})\n          }else{\n            this.$message.error('新的类别添加出错: '+res.data.msg)\n          }\n        }).catch((err)=>{\n          console.log(err)\n        })\n      }).catch(()=>{\n\n      })\n    }\n  },\n  mounted(){\n    var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n    this.$axios.get(url).then((res)=>{\n      this.categoryList=res.data;\n    }).catch((err)=>{\n      console.log(err);\n    })\n  } \n}\n</script>"],"sourceRoot":"src/views"}]}