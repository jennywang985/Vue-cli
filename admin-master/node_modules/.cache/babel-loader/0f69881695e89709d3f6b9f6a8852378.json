{"remainingRequest":"D:\\project\\order_vue\\admin-master\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\order_vue\\admin-master\\src\\views\\CategoryList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\order_vue\\admin-master\\src\\views\\CategoryList.vue","mtime":1554861102220},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      categoryList: []\n    };\n  },\n  methods: {\n    deleteCategory: function deleteCategory(c, i) {\n      var _this = this;\n\n      this.$confirm('Delete operation is irrevocable! Are you sure?', 'Prompt', {\n        type: 'warning'\n      }).then(function () {\n        var url = _this.$store.state.globalSettings.apiUrl + '/admin/category/' + c.cid;\n\n        _this.$axios.delete(url).then(function (res) {\n          if (res.data.code == 200) {\n            //数据库删除成功\n            _this.categoryList.splice(i, 1); //从模型数据中删除\n\n\n            _this.$message.success('Successful Deletion of Categories!');\n          } else {\n            _this.$message.error('Category deletion error:' + res.data.msg);\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function () {});\n    },\n    updateCategory: function updateCategory(c, i) {\n      console.log(i);\n    },\n    addCategory: function addCategory() {\n      var _this2 = this;\n\n      this.$prompt('Please enter a new category name:', 'Prompt', {\n        type: 'info'\n      }).then(function (_ref) {\n        var value = _ref.value;\n        //获得用户的输入,调用数据API添加到数据库\n        var url = _this2.$store.state.globalSettings.apiUrl + '/admin/category';\n\n        _this2.$axios.post(url, {\n          cname: value\n        }).then(function (res) {\n          if (res.data.code == 200) {\n            //数据库中添加成功\n            _this2.$message.success('New Category Added Successfully'); //模型数据中添加新的类别\n\n\n            _this2.categoryList.push({\n              cid: res.data.cid,\n              cname: value\n            });\n          } else {\n            _this2.$message.error('New Category Add Error: ' + res.data.msg);\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function () {});\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    var url = this.$store.state.globalSettings.apiUrl + '/admin/category';\n    this.$axios.get(url).then(function (res) {\n      _this3.categoryList = res.data;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n};",{"version":3,"sources":["CategoryList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"HotPot-category\">\n    <el-breadcrumb>\n      <el-breadcrumb-item to=\"/main\">Home</el-breadcrumb-item>\n      <el-breadcrumb-item>Category Management of Dishes</el-breadcrumb-item>\n      <el-breadcrumb-item>Category list</el-breadcrumb-item>\n    </el-breadcrumb>\n   <br>\n    <el-button type='primary' @click=\"addCategory\">Add a new category of dishes</el-button>\n  <br>\n    <el-table :data='categoryList'  stripe border>\n         <el-table-column label='ID' prop='cid'> </el-table-column>\n         <el-table-column label='Name' prop='cname'> </el-table-column>\n         <el-table-column label='operation' > \n           <template slot-scope=\"{row,$index}\">\n              <el-button @click='updateCategory(row,$index)' type='success' size='mini'>Update</el-button>\n              <el-button @click=\"deleteCategory(row,$index)\" type='danger' size='mini'>Delete</el-button>\n           </template>\n         </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return {\n      categoryList:[]\n    }\n  },\n  methods:{\n    deleteCategory(c,i){\n      this.$confirm('Delete operation is irrevocable! Are you sure?','Prompt',{type:'warning'}).then(()=>{\n         var url=this.$store.state.globalSettings.apiUrl + '/admin/category/'+c.cid;\n          this.$axios.delete(url).then((res)=>{\n        if(res.data.code==200){//数据库删除成功\n          this.categoryList.splice(i, 1);  //从模型数据中删除\n          this.$message.success('Successful Deletion of Categories!');\n        }else{\n          this.$message.error('Category deletion error:'+res.data.msg);\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n      }).catch(()=>{\n\n      })\n    },\n    updateCategory(c,i) {\n      console.log(i);\n    },\n    addCategory(){\n      this.$prompt('Please enter a new category name:','Prompt',{type:'info'}).then(({value})=>{\n        //获得用户的输入,调用数据API添加到数据库\n        var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n        this.$axios.post(url,{cname:value}).then((res)=>{\n          if(res.data.code==200){\n            //数据库中添加成功\n            this.$message.success('New Category Added Successfully')\n            //模型数据中添加新的类别\n            this.categoryList.push({cid:res.data.cid,cname:value})\n          }else{\n            this.$message.error('New Category Add Error: '+res.data.msg)\n          }\n        }).catch((err)=>{\n          console.log(err)\n        })\n      }).catch(()=>{\n\n      })\n    }\n  },\n  mounted(){\n    var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n    this.$axios.get(url).then((res)=>{\n      this.categoryList=res.data;\n    }).catch((err)=>{\n      console.log(err);\n    })\n  } \n}\n</script>"],"sourceRoot":"src/views"}]}