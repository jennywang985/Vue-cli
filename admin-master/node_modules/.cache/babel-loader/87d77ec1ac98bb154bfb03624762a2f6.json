{"remainingRequest":"D:\\project\\order_vue\\admin-master\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\order_vue\\admin-master\\src\\views\\DishAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\order_vue\\admin-master\\src\\views\\DishAdd.vue","mtime":1554861100936},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      imageUrl: '',\n      //要显示的预览图片地址\n      uploadAction: this.$store.state.globalSettings.apiUrl + '/admin/dish/image',\n      //可处理未见上传的api\n      formData: {\n        title: '',\n        imgUrl: \"\",\n        price: '',\n        //菜品图片在服务器的文件名称\n        detail: '',\n        categoryId: ''\n      }\n    };\n  },\n  methods: {\n    doUploadSucc: function doUploadSucc(res, file) {\n      // 文件上传成功后客户端等到响应消息后的处理函数\n      //res:服务端返回的消息\n      // file: 从INPUT[type=file]中读取的第一个上传的文件对象\n      console.log(res);\n      this.form.imgUrl = res.fileName;\n      this.imageUrl = URL.createObjectURL(file.raw);\n    }\n  }\n};",{"version":3,"sources":["DishAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAcA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AACA;AACA,MAAA,YAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,cAAA,CAAA,MAAA,GAAA,mBAFA;AAEA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAGA;AACA,QAAA,MAAA,EAAA,EAJA;AAKA,QAAA,UAAA,EAAA;AALA;AAHA,KAAA;AAWA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,GADA,EACA,IADA,EACA;AACA;AACA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,WAAA,IAAA,CAAA,MAAA,GAAA,GAAA,CAAA,QAAA;AACA,WAAA,QAAA,GAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA;AARA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"\">\n    <h1>Add dishes</h1>\n    <el-form label-width='100px'>\n      <el-form-item label='Dishes pictures: '>\n        <el-upload :action=\"uploadAction\" :on-success='doUploadSucc' name=\"dishImg\" :show-file-list='false' class='HotPot-uploader'>\n          <img v-if=\"imageUrl\" :src=\"imageUrl\" alt=\"\">\n           <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nexport default {\n  data(){\n    return{\n      imageUrl:'',  //要显示的预览图片地址\n      uploadAction:this.$store.state.globalSettings.apiUrl +'/admin/dish/image', //可处理未见上传的api\n      formData:{\n        title:'',\n        imgUrl:\"\",\n        price:'',            //菜品图片在服务器的文件名称\n        detail:'',\n        categoryId:''\n      }\n    }\n  },\n    methods: {\n  doUploadSucc(res,file){\n      // 文件上传成功后客户端等到响应消息后的处理函数\n      //res:服务端返回的消息\n      // file: 从INPUT[type=file]中读取的第一个上传的文件对象\n      console.log(res)\n      this.form.imgUrl=res.fileName;\n      this.imageUrl=URL.createObjectURL(file.raw)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" >\n   .HotPot-uploader {\n    .el-upload{\n      border:1px dotted #aaa;\n      border-radius: 3px;\n      cursor: pointer;\n      width: 250px;\n      height: 177px;\n      overflow: hidden;\n      &:hover{\n       border-color: #409EFF; \n      }\n    }\n    img{\n      max-width:100%;\n    }\n    .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n    &:hover{\n       color: #409EFF;\n    }\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}