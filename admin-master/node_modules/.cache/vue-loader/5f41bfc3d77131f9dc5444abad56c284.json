{"remainingRequest":"D:\\project\\order_vue\\xiaofeiniu-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\order_vue\\xiaofeiniu-admin-master\\src\\views\\CategoryList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\order_vue\\xiaofeiniu-admin-master\\src\\views\\CategoryList.vue","mtime":1554855016779},{"path":"D:\\project\\order_vue\\xiaofeiniu-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\xiaofeiniu-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\xiaofeiniu-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\xiaofeiniu-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data(){\n    return {\n      categoryList:[]\n    }\n  },\n  methods:{\n    deleteCategory(c,i){\n      this.$confirm('Delete operation is irrevocable! Are you sure?','Prompt',{type:'warning'}).then(()=>{\n         var url=this.$store.state.globalSettings.apiUrl + '/admin/category/'+c.cid;\n          this.$axios.delete(url).then((res)=>{\n        if(res.data.code==200){//数据库删除成功\n          this.categoryList.splice(i, 1);  //从模型数据中删除\n          this.$message.success('Successful Deletion of Categories!');\n        }else{\n          this.$message.error('Category deletion error:'+res.data.msg);\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n      }).catch(()=>{\n\n      })\n    },\n    updateCategory(c,i) {\n      console.log(i);\n    },\n    addCategory(){\n      this.$prompt('Please enter a new category name:','Prompt',{type:'info'}).then(({value})=>{\n        //获得用户的输入,调用数据API添加到数据库\n        var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n        this.$axios.post(url,{cname:value}).then((res)=>{\n          if(res.data.code==200){\n            //数据库中添加成功\n            this.$message.success('New Category Added Successfully')\n            //模型数据中添加新的类别\n            this.categoryList.push({cid:res.data.cid,cname:value})\n          }else{\n            this.$message.error('New Category Add Error: '+res.data.msg)\n          }\n        }).catch((err)=>{\n          console.log(err)\n        })\n      }).catch(()=>{\n\n      })\n    }\n  },\n  mounted(){\n    var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n    this.$axios.get(url).then((res)=>{\n      this.categoryList=res.data;\n    }).catch((err)=>{\n      console.log(err);\n    })\n  } \n}\n",{"version":3,"sources":["CategoryList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CategoryList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"xfn-category\">\n    <el-breadcrumb>\n      <el-breadcrumb-item to=\"/main\">Home</el-breadcrumb-item>\n      <el-breadcrumb-item>Category Management of Dishes</el-breadcrumb-item>\n      <el-breadcrumb-item>Category list</el-breadcrumb-item>\n    </el-breadcrumb>\n   <br>\n    <el-button type='primary' @click=\"addCategory\">Add a new category of dishes</el-button>\n  <br>\n    <el-table :data='categoryList'  stripe border>\n         <el-table-column label='ID' prop='cid'> </el-table-column>\n         <el-table-column label='Name' prop='cname'> </el-table-column>\n         <el-table-column label='operation' > \n           <template slot-scope=\"{row,$index}\">\n              <el-button @click='updateCategory(row,$index)' type='success' size='mini'>Update</el-button>\n              <el-button @click=\"deleteCategory(row,$index)\" type='danger' size='mini'>Delete</el-button>\n           </template>\n         </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return {\n      categoryList:[]\n    }\n  },\n  methods:{\n    deleteCategory(c,i){\n      this.$confirm('Delete operation is irrevocable! Are you sure?','Prompt',{type:'warning'}).then(()=>{\n         var url=this.$store.state.globalSettings.apiUrl + '/admin/category/'+c.cid;\n          this.$axios.delete(url).then((res)=>{\n        if(res.data.code==200){//数据库删除成功\n          this.categoryList.splice(i, 1);  //从模型数据中删除\n          this.$message.success('Successful Deletion of Categories!');\n        }else{\n          this.$message.error('Category deletion error:'+res.data.msg);\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n      }).catch(()=>{\n\n      })\n    },\n    updateCategory(c,i) {\n      console.log(i);\n    },\n    addCategory(){\n      this.$prompt('Please enter a new category name:','Prompt',{type:'info'}).then(({value})=>{\n        //获得用户的输入,调用数据API添加到数据库\n        var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n        this.$axios.post(url,{cname:value}).then((res)=>{\n          if(res.data.code==200){\n            //数据库中添加成功\n            this.$message.success('New Category Added Successfully')\n            //模型数据中添加新的类别\n            this.categoryList.push({cid:res.data.cid,cname:value})\n          }else{\n            this.$message.error('New Category Add Error: '+res.data.msg)\n          }\n        }).catch((err)=>{\n          console.log(err)\n        })\n      }).catch(()=>{\n\n      })\n    }\n  },\n  mounted(){\n    var url=this.$store.state.globalSettings.apiUrl + '/admin/category';\n    this.$axios.get(url).then((res)=>{\n      this.categoryList=res.data;\n    }).catch((err)=>{\n      console.log(err);\n    })\n  } \n}\n</script>"]}]}