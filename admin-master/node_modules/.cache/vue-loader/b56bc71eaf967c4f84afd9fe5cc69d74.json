{"remainingRequest":"D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\order_vue\\admin-master\\src\\views\\GlobalSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\order_vue\\admin-master\\src\\views\\GlobalSettings.vue","mtime":1554885797938},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data(){\n    return {\n      formData:{\n        appName:'',\n        apiUrl:'',\n        appUrl:'',\n        adminUrl:'',\n        icp:'',\n        copyright:'',\n       }\n    }\n  },\n  mounted(){\n    //将$store存储中的全局配置数据赋值给中间变量-formData，方便表单元素执行双向数据绑定\n    // 引用复制,两个变量指向一个对象\n    // this.formData = this.$store.state.globalSettings;\n    // 对象复制,创建出两个一样的对象\n    this.formData.appName=this.$store.state.globalSettings.appName;\n    this.formData.appUrl=this.$store.state.globalSettings.appUrl;\n    this.formData.adminUrl=this.$store.state.globalSettings.adminUrl;\n    this.formData.apiUrl=this.$store.state.globalSettings.apiUrl;\n    this.formData.icp=this.$store.state.globalSettings.icp;\n    this.formData.copyright=this.$store.state.globalSettings.copyright;\n  },\n  methods:{\n    doSubmot(){\n      var url=this.$store.state.globalSettings.apiUrl+'/admin/settings';\n     \n      this.$axios.put(url,this.formData).then((res)=>{\n        if(res.data.code==200){\n          this.$message.success('Successful modification of global settings!');\n          // TODO:修改$store中的全局设置\n        }else{\n          this.$message.error('Global Settings Modification Failed!')\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n    },\n    doCancel(){\n      this.formData.appName=this.$store.state.globalSettings.appName;\n      this.formData.appUrl=this.$store.state.globalSettings.appUrl;\n      this.formData.adminUrl=this.$store.state.globalSettings.adminUrl;\n      this.formData.apiUrl=this.$store.state.globalSettings.apiUrl;\n      this.formData.icp=this.$store.state.globalSettings.icp;\n      this.formData.copyright=this.$store.state.globalSettings.copyright;\n    }\n  }\n}\n",{"version":3,"sources":["GlobalSettings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GlobalSettings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"settings\">\n    <el-breadcrumb>\n      <el-breadcrumb-item to=\"/main\">Home</el-breadcrumb-item>\n      <el-breadcrumb-item>Global Settings</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <br>\n    <el-card shadow=\"never\">\n      <el-form label-width=\"110px\" >\n      \n        <el-form-item label=\"Apply Name：\">\n          <el-input v-model=\"formData.appName\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"API Address：\">\n          <el-input v-model=\"formData.apiUrl\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"ManageAddress：\">\n          <el-input v-model=\"formData.adminUrl\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"CustomerAddress：\">\n          <el-input v-model=\"formData.appUrl\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"ICP record：\">\n          <el-input v-model=\"formData.icp\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"Copyright：\">\n          <el-input v-model=\"formData.copyright\"></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSubmot\">Submit</el-button>\n          <el-button @click=\"doCancel\">Cancel</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return {\n      formData:{\n        appName:'',\n        apiUrl:'',\n        appUrl:'',\n        adminUrl:'',\n        icp:'',\n        copyright:'',\n       }\n    }\n  },\n  mounted(){\n    //将$store存储中的全局配置数据赋值给中间变量-formData，方便表单元素执行双向数据绑定\n    // 引用复制,两个变量指向一个对象\n    // this.formData = this.$store.state.globalSettings;\n    // 对象复制,创建出两个一样的对象\n    this.formData.appName=this.$store.state.globalSettings.appName;\n    this.formData.appUrl=this.$store.state.globalSettings.appUrl;\n    this.formData.adminUrl=this.$store.state.globalSettings.adminUrl;\n    this.formData.apiUrl=this.$store.state.globalSettings.apiUrl;\n    this.formData.icp=this.$store.state.globalSettings.icp;\n    this.formData.copyright=this.$store.state.globalSettings.copyright;\n  },\n  methods:{\n    doSubmot(){\n      var url=this.$store.state.globalSettings.apiUrl+'/admin/settings';\n     \n      this.$axios.put(url,this.formData).then((res)=>{\n        if(res.data.code==200){\n          this.$message.success('Successful modification of global settings!');\n          // TODO:修改$store中的全局设置\n        }else{\n          this.$message.error('Global Settings Modification Failed!')\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n    },\n    doCancel(){\n      this.formData.appName=this.$store.state.globalSettings.appName;\n      this.formData.appUrl=this.$store.state.globalSettings.appUrl;\n      this.formData.adminUrl=this.$store.state.globalSettings.adminUrl;\n      this.formData.apiUrl=this.$store.state.globalSettings.apiUrl;\n      this.formData.icp=this.$store.state.globalSettings.icp;\n      this.formData.copyright=this.$store.state.globalSettings.copyright;\n    }\n  }\n}\n</script>\n"]}]}