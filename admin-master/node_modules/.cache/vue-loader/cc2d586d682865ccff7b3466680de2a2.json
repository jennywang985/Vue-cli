{"remainingRequest":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\src\\components\\Table.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\src\\components\\Table.vue","mtime":1549876497000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\xiaozhuxiaoniu\\xiaofeiniu-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.xfn-table-info {\n  padding: 3px;\n  text-align: center;\n\n  .xfn-table {\n    width: 90%;\n    height: 120px;\n    line-height: 120px;\n    border: 1px solid #aaa;\n    border-radius: 50%;\n    box-shadow: 3px -4px 5px #666;\n    margin: 5px auto;\n  }\n}\n",{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"xfn-table-info\">\n    <el-card shadow=\"hover\">\n      <div class=\"xfn-table\" :style=\"{background:getTableColor(data.status)}\">{{data.tid}}号桌: {{data.status | tableStatus}}</div>\n      <el-button type=\"success\" plain size=\"mini\" @click=\"showTableDetail\">详情</el-button>\n      <el-button type=\"danger\" plain size=\"mini\">修改</el-button>\n    </el-card>\n\n    <!-- 桌台详情的对话框 -->\n    <el-dialog :title=\"data.tid+'桌台详情'\" :visible='dialogTableDetailVisible' :before-close='closeDialogTableDetail'>\n      <!-- 对话框主体 -->\n      <el-tabs type='border-card' @tab-click='makeQRCode'>\n        <el-tab-pane label='桌台状态'>状态加载中</el-tab-pane>\n        <el-tab-pane label='桌台二维码'>\n          <img :src=\"qrcodeData\" alt=\"\">\n        </el-tab-pane>\n      </el-tabs>\n      <!-- 对话框尾部 -->\n      <div slot='footer'>\n        <el-button type='primary' @click=\"dialogTableDetailVisible=false\" >确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.xfn-table-info {\n  padding: 3px;\n  text-align: center;\n\n  .xfn-table {\n    width: 90%;\n    height: 120px;\n    line-height: 120px;\n    border: 1px solid #aaa;\n    border-radius: 50%;\n    box-shadow: 3px -4px 5px #666;\n    margin: 5px auto;\n  }\n}\n</style>\n\n<script>\nexport default {\n    data(){\n      return{\n        dialogTableDetailVisible:false,\n        qrcodeData:''  //二维码base64二进制数据\n      }\n    },\n    props:['data'],\n    methods:{\n      getTableColor(status){\n        if(status==1) return '#67C23A';\n        else if(status==2) return '#E6A23C';\n        else if(status==3) return '#F56C6C';\n        else return '#909399'\n      },\n      showTableDetail(){\n        // console.log(this.data) 当前桌子的数据\n        this.dialogTableDetailVisible=true;\n      },\n      closeDialogTableDetail(){\n        this.dialogTableDetailVisible=false;\n      },\n      makeQRCode(){\n        //创建二维码--注意此方法不能再当前的mouted中调用,因为绘图必须的canvas在el-dialog中,对话框在组件家再试并不在DOM树上\n        var qrcode=require('qrcode');\n        // 每个桌子的URL应该形如:\n        // http://127.0.0.1:8092/#/3\n        var tableUrl=this.$store.state.appUrl+'/#/'+this.data.tid;\n        // 把绘制等到的图片二进制数据转换为字符串编码\n        qrcode.toDataURL(tableUrl, {\n          width:300,\n          errorCorrectionLevel:'H'\n        }, (err,url)=>{\n          this.qrcodeData=url\n        })\n      }\n    }\n}\n</script>\n\n"]}]}