{"remainingRequest":"D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\order_vue\\admin-master\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\order_vue\\admin-master\\src\\views\\Login.vue","mtime":1554861097208},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\order_vue\\admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data(){   //普通组件的模型数据是函数返回值\n    return {\n      formData: { //表单中用户输入的两个数据\n        aname: 'admin',\n        apwd: '123456'\n      }\n    }\n  },\n  methods:{\n    doLogin(){  //执行登录\n      var url = this.$store.state.globalSettings.apiUrl+`/admin/login/${this.formData.aname}/${this.formData.apwd}`;\n\n      this.$axios.get(url).then((res)=>{\n        if(res.data.code==200){ //登录成功\n          //把用户名存入Vuex存储仓库\n          this.$store.commit('setAdminName',this.formData.aname);\n          //执行视图跳转\n          this.$router.push('/main');\n        }else { //登录失败\n          this.$alert('Error in username or password！','Login failed',{type:'error'}).then(()=>{}).catch(()=>{});\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n    },\n    doCancel(){ //清除用户的输入\n      this.formData.aname = '';\n      this.formData.apwd = '';\n    }\n  }\n}  \n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <el-card class=\"HotPot-login-card\">\n      <div slot=\"header\">Administrator login</div>\n      <div>\n        <el-form label-width=\"100px\">\n\n          <el-form-item label=\"Administrator：\">\n            <el-input v-model=\"formData.aname\" placeholder=\"Please enter the administrator name\"></el-input>\n          </el-form-item>\n        \n          <el-form-item label=\"password：\">\n            <el-input type=\"password\" v-model=\"formData.apwd\" placeholder=\"Please enter the administrator password\"></el-input>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"doLogin\">Sign in</el-button>\n            <el-button @click=\"doCancel\">Cancel</el-button>\n          </el-form-item>\n        \n        </el-form>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){   //普通组件的模型数据是函数返回值\n    return {\n      formData: { //表单中用户输入的两个数据\n        aname: 'admin',\n        apwd: '123456'\n      }\n    }\n  },\n  methods:{\n    doLogin(){  //执行登录\n      var url = this.$store.state.globalSettings.apiUrl+`/admin/login/${this.formData.aname}/${this.formData.apwd}`;\n\n      this.$axios.get(url).then((res)=>{\n        if(res.data.code==200){ //登录成功\n          //把用户名存入Vuex存储仓库\n          this.$store.commit('setAdminName',this.formData.aname);\n          //执行视图跳转\n          this.$router.push('/main');\n        }else { //登录失败\n          this.$alert('Error in username or password！','Login failed',{type:'error'}).then(()=>{}).catch(()=>{});\n        }\n      }).catch((err)=>{\n        console.log(err);\n      })\n    },\n    doCancel(){ //清除用户的输入\n      this.formData.aname = '';\n      this.formData.apwd = '';\n    }\n  }\n}  \n</script>\n\n<style lang=\"scss\">\n  .HotPot-login-card {\n    width: 450px;\n    margin: 100px auto;\n\n    .el-card__header {\n      text-align: center;\n      font-size: 1.2em;\n    }\n  }\n</style>\n"]}]}